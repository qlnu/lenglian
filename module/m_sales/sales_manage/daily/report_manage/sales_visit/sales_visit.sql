
sql.m_sales.sales_manage.daily.report_manage.sales_visit.point.select.count =  main,select count(*) from axiom_alarm_point t,axiom_analyze_point aap where aap.point_id=t.point_id and t.alarm_type=4 
sql.m_sales.sales_manage.daily.report_manage.sales_visit.point.select.page =  main,select * from (select a.* ,rownum row_num from (select aap.point_name,t.arrive_time,t.leave_time,(t.leave_time-t.arrive_time),t.geocoding, t.rowid from axiom_alarm_point t,axiom_analyze_point aap where aap.point_id=t.point_id and t.alarm_type=4 order by t.gps_time asc )a) b where  b.row_num between ?and ?
sql.m_sales.sales_manage.daily.report_manage.sales_visit.point.target_id.select.count =  main,select count(*) from axiom_alarm_point t,axiom_analyze_point aap where aap.point_id=t.point_id and t.alarm_type=4 and t.target_id=? and t.gps_time>=? and t.gps_time<=?
sql.m_sales.sales_manage.daily.report_manage.sales_visit.point.target_id.select.page =  main,select * from (select a.* ,rownum row_num from (select aap.point_name,t.arrive_time,t.leave_time,(t.leave_time-t.arrive_time),t.geocoding from axiom_alarm_point t,axiom_analyze_point aap where aap.point_id=t.point_id and t.alarm_type=4 and t.target_id=? and t.gps_time>=? and t.gps_time<=? order by t.gps_time desc)a) b where  b.row_num between ?and ?
sql.m_sales.sales_manage.daily.report_manage.sales_visit.select.count =  main,select count(*) from (select at.target_name,count(*) as target_name,at.target_id  from axiom_alarm_point aap, (select * from axiom_target where target_id in(select distinct target_id from (select target_id from axiom_target where corp_id in (select corp_id from axiom_corp start with corp_id = ${corp_id} connect by prior corp_id = parent_id) and (select status from axiom_user where user_id =${user_id}) = 1 union select att.target_id from axiom_target att, axiom_group_target agt, axiom_user_group   aug where agt.target_id = att.target_id and agt.group_id = aug.group_id and aug.user_id = ${user_id})))  at where aap.target_id = at.target_id and aap.alarm_type=4 and aap.gps_time>=? and aap.gps_time<=?  group by at.target_name,at.target_id) 
sql.m_sales.sales_manage.daily.report_manage.sales_visit.select.page =  main,select * from (select a.* ,rownum row_num from ( select at.target_name,count(*) as visit_count,at.target_id  from axiom_alarm_point aap, (select * from axiom_target where target_id in(select distinct target_id from (select target_id from axiom_target where corp_id in (select corp_id from axiom_corp start with corp_id = ${corp_id} connect by prior corp_id = parent_id) and (select status from axiom_user where user_id =${user_id}) = 1 union select att.target_id from axiom_target att, axiom_group_target agt, axiom_user_group   aug where agt.target_id = att.target_id and agt.group_id = aug.group_id and aug.user_id = ${user_id})))  at where aap.target_id = at.target_id and aap.alarm_type=4 and aap.gps_time>=? and aap.gps_time<=?  group by at.target_name,at.target_id)a) b where  b.row_num between ?and ?
sql.m_sales.sales_manage.daily.report_manage.sales_visit.target_id.select.count =  main,select count(*) from (select at.target_name,count(*) as target_name,at.target_id  from axiom_alarm_point aap, (select * from axiom_target where target_id in(select distinct target_id from (select target_id from axiom_target where corp_id in (select corp_id from axiom_corp start with corp_id = ${corp_id} connect by prior corp_id = parent_id) and (select status from axiom_user where user_id =${user_id}) = 1 union select att.target_id from axiom_target att, axiom_group_target agt, axiom_user_group   aug where agt.target_id = att.target_id and agt.group_id = aug.group_id and aug.user_id = ${user_id})))  at where aap.target_id = at.target_id and aap.alarm_type=4 and at.target_id in (select substr(?, s, e - s) target_id from (select pos_start.pos as s, pos_end.pos as e from (select rownum rn, pos from (select distinct pos from (select instr(concat(',', ?), ',',  rownum) as pos from dual connect by rownum <= length(?)) where pos > 0 order by pos)) pos_start, (select rownum rn, pos from (select distinct pos from (select instr(concat(?, ','), ',', rownum) as pos from dual connect by rownum <= length(?)) where pos > 0 order by pos)) pos_end where pos_start.rn = pos_end.rn))  and aap.gps_time>=? and aap.gps_time<=?  group by at.target_name,at.target_id) 
sql.m_sales.sales_manage.daily.report_manage.sales_visit.target_id.select.page =  main, select * from (select a.* ,rownum row_num from ( select at.target_name,count(*) as visit_count,at.target_id  from axiom_alarm_point aap, (select * from axiom_target where target_id in(select distinct target_id from (select target_id from axiom_target where corp_id in (select corp_id from axiom_corp start with corp_id = ${corp_id} connect by prior corp_id = parent_id) and (select status from axiom_user where user_id =${user_id}) = 1 union select att.target_id from axiom_target att, axiom_group_target agt, axiom_user_group   aug where agt.target_id = att.target_id and agt.group_id = aug.group_id and aug.user_id = ${user_id})))  at where aap.target_id = at.target_id and aap.alarm_type=4 and at.target_id in (select substr(?, s, e - s) target_id from (select pos_start.pos as s, pos_end.pos as e from (select rownum rn, pos from (select distinct pos from (select instr(concat(',', ?), ',',  rownum) as pos from dual connect by rownum <= length(?)) where pos > 0 order by pos)) pos_start, (select rownum rn, pos from (select distinct pos from (select instr(concat(?, ','), ',', rownum) as pos from dual connect by rownum <= length(?)) where pos > 0 order by pos)) pos_end where pos_start.rn = pos_end.rn)) and aap.gps_time>=? and aap.gps_time<=?  group by at.target_name,at.target_id)a) b where  b.row_num between ?and ?
